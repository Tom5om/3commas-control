app: 3commas-bot
service: one-bot-to-rule-them-all
custom:
  currentStage: ${opt:stage, self:provider.stage}
  settings:
    ACCOUNT_ID: "361936220281"
    currentStage: ${opt:stage, self:provider.stage}
    API_KEY: "dec93426559444428c9f90c9bc4c258c30ad20b20eee44279b548379c87908e6"
    API_SECRET: "58e4bfb5815bb14858703701002b4bc7a6706044c7d27cb5610176f261b2a36b0a955347ee5894e3264ccf04e3396cdecf3ea38e0cb512940fac5f471ca53c8a1c4bfc975e4d0e31b1ae4979c8e21ff627979fc9b80ad98683c3a3bd803097cc8c8d8759"
provider:
  name: aws
  stage: dev
  runtime: nodejs12.x
  region: ap-southeast-2
  environment: ${self:custom.settings}

functions:
  handleBots:
    handler: botHandler.handleBots
    events:
      - schedule: cron(5,15,25,35,45,55 * * * ? *)
      - http:
          method: get
          path: handleBots
  updateDeals:
    handler: botHandler.updateAllDeals
    events:
      - http:
          method: get
          path: updateAllDeals
  setup:
    handler: sheetHandler.setup
    events:
      - http:
          method: get
          path: setup
  updateSheets:
    handler: sheetHandler.updateSheets
    events:
      - http:
          method: get
          path: updateSheets
package:
  excludeDevDependencies: false
  individually: true

plugins:
- serverless-offline
- serverless-plugin-include-dependencies
